<!--begin::Toolbar-->
<div class="toolbar" id="kt_toolbar">
  <div class="container-fluid d-flex flex-stack flex-wrap flex-sm-nowrap">
    <!--begin::Info-->
    <div class="d-flex flex-column align-items-start justify-content-center flex-wrap me-2">
      <!--begin::Title-->
      <h1 class="text-dark fw-bolder my-1 fs-2">Measurements 
      <small class="text-muted fs-6 fw-normal ms-1"></small></h1>
      <!--end::Title-->
      <!--begin::Breadcrumb-->
      <ul class="breadcrumb fw-bold fs-base my-1">
        <li class="breadcrumb-item text-muted">Home
        </li>
        <li class="breadcrumb-item text-muted">
          <a href="<%= clients_path %>" class="text-muted text-hover-primary">Pods</a>
        </li>
        <li class="breadcrumb-item text-muted">
          <a href="<%= client_path(@client.unix_user) %>" class="text-muted text-hover-primary"><%= @client.unix_user %></a>
        </li>
        <li class="breadcrumb-item text-dark">Measurements</li>
      </ul>
      <!--end::Breadcrumb-->
    </div>
    <!--end::Info-->
  </div>
</div>
<!--end::Toolbar-->

<p id="notice"><%= notice %></p>


<div class="post fs-6 d-flex flex-column-fluid" id="kt_post">
  <!--begin::Container-->
  <div class="container-xxl">
  
    <% if notice %>
    <p id="notice"><%= notice %></p>
    <% end %>
    <!--begin::Card-->
    <div class="card">
      <div class="card-header border-0 pt-6">
        <div class="card-title"></div>
        <!--begin::Card toolbar-->
        <div class="card-toolbar">
          <!--begin::Toolbar-->
          <div class="d-flex justify-content-end" data-kt-customer-table-toolbar="base">
            
            <!--begin::Export-->
            <a href="<%= client_measurements_path(@client.unix_user, format: 'csv') %>" class="btn btn-primary me-3">Export Measurements</a>
            <!--end::Export-->
          </div>
          <!--end::Toolbar-->
        </div>
      </div>
      <!--end::Card toolbar-->
      <!--begin::Card body-->
      <div class="card-body pt-0">
        <!--begin::Table-->
        <div id="kt_customers_table_wrapper" class="dataTables_wrapper dt-bootstrap4 no-footer"><div class="table-responsive"><table class="table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer" id="kt_customers_table">
          <!--begin::Table head-->
          <thead>
            <!--begin::Table row-->
            <tr class="text-start text-gray-400 fw-bolder fs-7 text-uppercase gs-0">
              <th class="min-w-125px sorting" tabindex="0" aria-controls="kt_customers_table" rowspan="1" colspan="1" style="width: 132.146px;">Time</th>
              <th class="min-w-125px sorting" tabindex="0" aria-controls="kt_customers_table" rowspan="1" colspan="1" style="width: 149.958px;">Style</th>
              <th class="min-w-125px sorting" tabindex="0" aria-controls="kt_customers_table" rowspan="1" colspan="1" style="width: 149.958px;">Download</th>
              <th class="min-w-125px sorting" tabindex="0" aria-controls="kt_customers_table" rowspan="1" colspan="1" style="width: 149.958px;">Upload</th>
              <th class="min-w-125px sorting" tabindex="0" aria-controls="kt_customers_table" rowspan="1" colspan="1" style="width: 149.958px;">Latency</th>
              <th class="min-w-125px sorting" tabindex="0" aria-controls="kt_customers_table" rowspan="1" colspan="1" style="width: 149.958px;">Jitter</th>
            <!--end::Table row-->
          </thead>
          <!--end::Table head-->
          <!--begin::Table body-->
          <tbody class="fw-bold text-gray-600">
          <% @measurements.order(created_at: :desc).each do |measurement| %>
            <tr>
              <td data-controller="localtime"><%= measurement.created_at %></td>
              <td><%= measurement.style %></td>
              <td><%= number_with_precision measurement.download, precision: 3 %></td>
              <td><%= number_with_precision measurement.upload, precision: 3 %></td>
              <td><%= number_with_precision measurement.latency, precision: 3 %></td>
              <td><%= number_with_precision measurement.jitter, precision: 3 %></td>
            </tr>
          <% end %>
          </tbody>
          <!--end::Table body-->
        </table>
        </div></div>
        <!--end::Table-->
      </div>
      <!--end::Card body-->
    </div>
    <!--end::Card-->
  </div>
  <!--end::Container-->
</div>
