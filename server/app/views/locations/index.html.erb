<!--begin::Toolbar-->
<div class="toolbar" id="kt_toolbar">
  <div class="container-fluid d-flex flex-stack flex-wrap flex-sm-nowrap">
    <!--begin::Info-->
    <div class="d-flex flex-column align-items-start justify-content-center flex-wrap me-2">
      <!--begin::Title-->
      <h1 class="text-dark fw-bolder my-1 fs-2">Locations 
      <small class="text-muted fs-6 fw-normal ms-1"></small></h1>
      <!--end::Title-->
      <!--begin::Breadcrumb-->
      <ul class="breadcrumb fw-bold fs-base my-1">
        <li class="breadcrumb-item text-muted">Home
          <!--<a href="/craft/index.html" class="text-muted text-hover-primary">Home</a>-->
        </li>
        <li class="breadcrumb-item text-dark">Locations</li>
      </ul>
      <!--end::Breadcrumb-->
    </div>
    <!--end::Info-->
    <div class="d-flex align-items-center flex-nowrap text-nowrap py-1">
      <a 
        type="button" 
        class="btn btn-primary" 
        href="<%= new_location_path %>" 
        data-turbo-frame="new_location_modal"
      >Add Location</a>
    </div>
  </div>
</div>
<!--end::Toolbar-->

<%= turbo_frame_tag "locations_display" do %>
  <div class="post fs-6 d-flex flex-column" id="kt_post">
    <div class="container-fluid">
      <!--begin::DisplaySwitcher-->
        <div class="d-flex flex-row w-100 px-5 mb-10" style="height: max-content">
          <a href="<%= locations_path(display: 'grid') %>" 
            class="btn btn-light btn-active-light-dark btn-active-icon-primary py-2 px-3 me-3
                    <%= params[:display].nil? || params[:display] == 'grid' ? 'active' : '' %>" 
            style="height:max-content">
            <span class="svg-icon svg-icon-muted svg-icon-2 m-0">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M6 7H3C2.4 7 2 6.6 2 6V3C2 2.4 2.4 2 3 2H6C6.6 2 7 2.4 7 3V6C7 6.6 6.6 7 6 7Z" fill="black"/>
                <path opacity="0.3" d="M13 7H10C9.4 7 9 6.6 9 6V3C9 2.4 9.4 2 10 2H13C13.6 2 14 2.4 14 3V6C14 6.6 13.6 7 13 7ZM21 6V3C21 2.4 20.6 2 20 2H17C16.4 2 16 2.4 16 3V6C16 6.6 16.4 7 17 7H20C20.6 7 21 6.6 21 6ZM7 13V10C7 9.4 6.6 9 6 9H3C2.4 9 2 9.4 2 10V13C2 13.6 2.4 14 3 14H6C6.6 14 7 13.6 7 13ZM14 13V10C14 9.4 13.6 9 13 9H10C9.4 9 9 9.4 9 10V13C9 13.6 9.4 14 10 14H13C13.6 14 14 13.6 14 13ZM21 13V10C21 9.4 20.6 9 20 9H17C16.4 9 16 9.4 16 10V13C16 13.6 16.4 14 17 14H20C20.6 14 21 13.6 21 13ZM7 20V17C7 16.4 6.6 16 6 16H3C2.4 16 2 16.4 2 17V20C2 20.6 2.4 21 3 21H6C6.6 21 7 20.6 7 20ZM14 20V17C14 16.4 13.6 16 13 16H10C9.4 16 9 16.4 9 17V20C9 20.6 9.4 21 10 21H13C13.6 21 14 20.6 14 20ZM21 20V17C21 16.4 20.6 16 20 16H17C16.4 16 16 16.4 16 17V20C16 20.6 16.4 21 17 21H20C20.6 21 21 20.6 21 20Z" fill="black"/>
              </svg>
            </span>
          </a>
           <a href="<%= locations_path(display: 'table') %>" 
            class="btn btn-light btn-active-light-dark btn-active-icon-primary py-2 px-3 
                    <%= params[:display] == 'table' ? 'active' : '' %>"
            style="height:max-content">
            <span class="svg-icon svg-icon-muted svg-icon-2 m-0">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path opacity="0.3" d="M2 21V14C2 13.4 2.4 13 3 13H21C21.6 13 22 13.4 22 14V21C22 21.6 21.6 22 21 22H3C2.4 22 2 21.6 2 21Z" fill="black"/>
                <path d="M2 10V3C2 2.4 2.4 2 3 2H21C21.6 2 22 2.4 22 3V10C22 10.6 21.6 11 21 11H3C2.4 11 2 10.6 2 10Z" fill="black"/>
              </svg>
            </span>
          </a>
        </div>
      <!--end::DisplaySwitcher-->
      <!--begin::Container-->
        <div class="container-auto px-5">
          <% if notice %>
            <p id="notice"><%= notice %></p>
          <% end %>
          <!--begin::Card-->
          <% if params[:display] == 'table' %>
            <%= render partial: 'locations_table', locals: { locations: @locations } %>
          <% else %>
            <%= render partial: 'locations_grid', locals: { locations: @locations } %>
          <% end %>
          <!--end::Card-->
        </div>
      <!--end::Container-->
    </div>
  </div>
<% end %>

<div class="modal fade" tabindex="-1" data-controller="modal" data-action="turbo:submit-end->modal#submit turbo:frame-render->modal#showModal">
  <%= turbo_frame_tag "new_location_modal" do %>
  <% end %>
</div>

<div class="modal fade" tabindex="-1" data-controller="modal" data-action="turbo:submit-end->modal#submit turbo:frame-render->modal#showModal">
  <%= turbo_frame_tag "edit_location_modal" do %>
  <% end %>
</div>