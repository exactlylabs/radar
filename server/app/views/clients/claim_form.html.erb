<%= turbo_frame_tag "add_pod_modal" do %>
<%= form_with(url: claim_clients_path) do |form| %>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">New Pod</h5>

        <!--begin::Close-->
        <div class="btn btn-icon btn-sm btn-active-light-primary ms-2" data-bs-dismiss="modal" aria-label="Close">
          <span class="svg-icon svg-icon-2x"></span>
        </div>
        <!--end::Close-->
      </div>

      <div class="modal-body">
        <% if @error %>
        <div class="fv-plugins-message-container invalid-feedback">
          <div>Pod ID not found or Secret was invalid</div>
        </div>
        <% end %>
        <div class="fv-row mb-7 fv-plugins-icon-container">
          <!--begin::Label-->
          <label class="required fs-6 fw-bold mb-2">ID</label>
          <!--end::Label-->
          <!--begin::Input-->
          <%= form.text_field :id, class: "form-control form-control-solid", value: @client_id %>
          <!--end::Input-->
          <div class="fv-plugins-message-container invalid-feedback"></div>
        </div>

        <div class="fv-row mb-7 fv-plugins-icon-container">
          <!--begin::Label-->
          <label class="required fs-6 fw-bold mb-2">Secret</label>
          <!--end::Label-->
          <!--begin::Input-->
          <%= form.text_field :secret, class: "form-control form-control-solid", value: @client_secret %>
          <!--end::Input-->
          <div class="fv-plugins-message-container invalid-feedback"></div>
        </div>
        <div class="fv-row mb-7 fv-plugins-icon-container">
          <label class="fs-6 fw-bold mb-2">Location</label>
          <%= form.collection_select :location_id, current_user.locations, :id, :name, { include_blank: "", selected: @location_id }, { class: "form-select", data: { controller: "select2", "select2-blanks-value" => true, placeholder: "Select a Location" } } %>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-light" data-bs-dismiss="modal">Cancel</button>
        <%= form.submit "Add Pod", class: "btn btn-primary" %>
      </div>
    </div>
  </div>
<% end %>
<% end %>
