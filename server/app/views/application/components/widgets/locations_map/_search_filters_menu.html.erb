<div class="tables--filters-button-container"
  data-controller="filters"
  data-action="click->filters#toggleFiltersMenu pickFilter@window->filters#closeFiltersMenu"
  data-menu-id="locations-map-filter-menu"
>
  <button type="button"
    class="custom-button custom-button--sm custom-button--secondary"
  >
    <%= image_tag image_url('filters-icon.png'), width: 16, height: 16 %>
    <%= image_tag image_url('caret.png'), width: 16, height: 16, class: "ms-1" %>
  </button>
  <div class="tables--filters-menu-container overflow-visible invisible"
    data-filters-target="filtersMenu"
    id="locations-map-filter-menu"
  >
    <div class="tables--locations-map-filter-row" style="z-index: 1">
      <label class="tables--locations-map-filter-row-title">Sort by</label>
      <%= render partial: "application/components/tables/client_filter",
                 locals: {
                   menu_id: 'sort-by-filter-menu',
                   key: 'sort_by',
                   default_value: 'name',
                   default_label: 'Name',
                   controller: 'locations-map-widget',
                   method: 'selectSortByFilter',
                   filter_button_id: 'sort-by-filter-button',
                   dark: true,
                   options: [
                     { label: 'Name', value: 'name'},
                     { label: 'Status', value: 'status' },
                     { label: 'Account', value: 'account' },
                     { label: 'ISP', value: 'isp' }
                   ]
                 }
      %>
    </div>
    <div class="tables--locations-map-filter-row" style="z-index: 0">
      <label class="tables--locations-map-filter-row-title">Status</label>
      <%= render partial: "application/components/tables/client_filter",
        locals: {
          menu_id: 'status-filter-menu',
          key: 'status',
          default_value: 'all',
          default_label: 'All statuses',
          controller: 'locations-map-widget',
          method: 'selectStatusFilter',
          filter_button_id: 'status-filter-button',
          dark: true,
          options: [
            { label: 'All statuses', value: 'all'},
            { label: 'Online', value: 'online' },
            { label: 'Offline', value: 'offline' }
          ]
        }
      %>
    </div>
  </div>
</div>